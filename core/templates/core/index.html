{% extends "base.html" %}
{% load static %}
{% block extra_css %}
<style>
   .testimonial-image {
      height: 200px;
   }
</style>
{% endblock extra_css %}
{% block content %}
<!-- store -->
<div class="store">
   <div class="container">
      <div class="row">
         <div class="col-md-12">
            <div class="titlepage">
               <h2>Best Wines <span class="red">In Our Store</span> </h2>
               <p>It is a long established fact that a reader will be distracted by the readable content of a page when
                  looking at its layout. The point of using Lorem</p>
            </div>
         </div>
      </div>
      <div class="row">
         <div class="col-md-12">
            {% for category in categories %}
            <div class="black_bg">
               <div class="row d_flex">
                  <div class="col-md-4">
                     <div class="store_box">
                        <figure>
                           <img src="{{ category.image.url }}" alt="{{ category.name }}-image" class="img-fluid" />
                        </figure>
                     </div>
                  </div>
                  <div class="col-md-8">
                     <div class="store_box">
                        <h3>{{ category.name }}</h3>
                        <p>{{ category.description }}</p>

                        <!-- Unique collapse ID using forloop.counter -->
                        <p class="d-inline-flex gap-1">
                           <a class="read_more" data-bs-toggle="collapse" href="#collapse-{{ forloop.counter }}"
                              role="button" aria-expanded="false" aria-controls="collapse-{{ forloop.counter }}">
                              Read more
                           </a>
                        </p>
                        <div class="collapse" id="collapse-{{ forloop.counter }}">
                           <div class="card card-body">
                              {{ category.text }}
                           </div>
                        </div>

                     </div>
                  </div>
               </div>
            </div>
            {% endfor %}
         </div>
      </div>
   </div>
</div>
<!-- end store -->
<!-- about -->
<div class="about">
   <div class="container">
      <div class="row">
         <div class="col-md-12">
            <div class="titlepage">
               <h2>About <span class="red"> Store</span></h2>
            </div>
         </div>
      </div>

      <div class="row">
         <div class="col-md-12">
            <div class="about_box ">
               <p>There are many variations of passages of Lorem Ipsum available, but the majority have suffered
                  alteration in some form, by injected humour, or randomised words which don't look even slightly
                  believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything
                  embarrassing hidden in the middle of </p>
               <a class="read_more" href="#">Read more</a>
            </div>

         </div>
      </div>
   </div>
</div>
<!-- end about -->
<!-- Testimonial -->
<div id="" class="Testimonial">
   <div class="container">
      <div class="row">
         <div class="col-md-12">
            <div class="titlepage">
               <h2>Testimonial</h2>
               <span>It is a long established fact that a reader will be distracted by the readable content of a page
                  when looking at its layout. The point of using Lorem</span>
            </div>
         </div>
      </div>
   </div>
</div>
<div id="myCarousel" class="carousel slide Testimonial_carousel" data-ride="carousel">
   <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
   </ol>
   <div class="carousel-inner">
      {% for testimonial in testimonials %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">
         <div class="container">
            <div class="carousel-caption">
               <div class="row d_flex">
                  <div class="col-md-3">
                     <div class="Testimonial_box">
                        <i>
                           {% if testimonial.image %}
                           <img src="{{ testimonial.image.url }}" class="img-fluid testimonial-image"
                              alt="{{ testimonial.name }}" />
                           {% endif %}
                        </i>
                     </div>
                  </div>
                  <div class="col-md-9">
                     <div class="Testimonial_box">
                        <h4>{{ testimonial.name }}</h4>
                        <p>{{ testimonial.text }}</p>

                        <!-- ⭐ Dynamic Rating -->
                        <div class="rating">
                           {% for i in "12345"|make_list %}
                           {% if forloop.counter <= testimonial.rating %} <span style="color: gold;">★</span>
                              {% else %}
                              <span style="color: lightgray;">★</span>
                              {% endif %}
                              {% endfor %}
                        </div>

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      {% endfor %}
   </div>
   <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
      <i class="fa fa-long-arrow-left" aria-hidden="true"></i>
   </a>
   <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
      <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
   </a>
</div>

</div>

<!-- end Testimonial -->
<!-- talk -->
<div id="talk" class="talk">
   <div class="container">
      <div class="row ">
         <div class="col-md-6 ">
            <div class="wines">
               <h3>Let's talk for wines</h3>
               <p>It is a long established fact that a reader will be distracted by the readable content of a page when
                  looking at its layout. The point of using Lorem ere, content here', making itIt is a long established
                  fact that a reader will be distracted by the readable content of a page when looking at its layout.
                  The point of using Lorem ere, content here', making it</p>

            </div>
         </div>
         <div class="col-md-6 ">
            <form class="main_form" method="POST" action="{% url 'index' %}">
               {% csrf_token %}
               <div class="row">
                  <div class="col-md-12 ">
                     <input class="form_contril" placeholder="Name " type="text" name="name">
                  </div>
                  <div class="col-md-12">
                     <input class="form_contril phone" style="width: 550px;" placeholder="Phone Number" id="phone"
                        type="tel" name="phone">
                  </div>
                  <div class="col-md-12">
                     <input class="form_contril" style="margin-top: 20px;" placeholder="Email" type="text" name="email">
                  </div>
                  <div class="col-md-12">
                     <textarea class="textarea" placeholder="Message" type="text" name="message"></textarea>
                  </div>
                  <div class="col-sm-12">
                     <button class="send_btn">Send</button>
                  </div>
               </div>
            </form>
         </div>
      </div>
   </div>
</div>
<!-- end talk -->
{% endblock content %}
{% block extra_js %}

{% endblock extra_js %}